/*!
  SerializeJSON jQuery plugin.
  https://github.com/marioizquierdo/jquery.serializeJSON
  version 2.5.0 (Mar, 2015)

  Copyright (c) 2012, 2015 Mario Izquierdo
  Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
  and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
*/
!function(e){"use strict";e.fn.serializeJSON=function(n){var r,a,t,i,s,u,l;return u=e.serializeJSON,l=u.optsWithDefaults(n),u.validateOptions(l),a=this.serializeArray(),u.readCheckboxUncheckedValues(a,this,l),r={},e.each(a,function(e,n){t=u.splitInputNameIntoKeysArray(n.name),i=t.pop(),"skip"!==i&&(s=u.parseValue(n.value,i,l),l.parseWithFunction&&"_"===i&&(s=l.parseWithFunction(s,n.name)),u.deepSet(r,t,s,l))}),r},e.serializeJSON={defaultOptions:{parseNumbers:!1,parseBooleans:!1,parseNulls:!1,parseAll:!1,parseWithFunction:null,checkboxUncheckedValue:void 0,useIntKeysAsArrayIndex:!1},optsWithDefaults:function(n){var r,a;return null==n&&(n={}),r=e.serializeJSON,a=r.optWithDefaults("parseAll",n),{parseNumbers:a||r.optWithDefaults("parseNumbers",n),parseBooleans:a||r.optWithDefaults("parseBooleans",n),parseNulls:a||r.optWithDefaults("parseNulls",n),parseWithFunction:r.optWithDefaults("parseWithFunction",n),checkboxUncheckedValue:r.optWithDefaults("checkboxUncheckedValue",n),useIntKeysAsArrayIndex:r.optWithDefaults("useIntKeysAsArrayIndex",n)}},optWithDefaults:function(n,r){return r[n]!==!1&&""!==r[n]&&(r[n]||e.serializeJSON.defaultOptions[n])},validateOptions:function(e){var n,r;r=["parseNumbers","parseBooleans","parseNulls","parseAll","parseWithFunction","checkboxUncheckedValue","useIntKeysAsArrayIndex"];for(n in e)if(-1===r.indexOf(n))throw new Error("serializeJSON ERROR: invalid option '"+n+"'. Please use one of "+r.join(","))},parseValue:function(n,r,a){var t;return t=e.serializeJSON,"string"==r?n:"number"==r||a.parseNumbers&&t.isNumeric(n)?Number(n):"boolean"==r||a.parseBooleans&&("true"===n||"false"===n)?-1===["false","null","undefined","","0"].indexOf(n):"null"==r||a.parseNulls&&"null"==n?-1!==["false","null","undefined","","0"].indexOf(n)?null:n:"array"==r||"object"==r?JSON.parse(n):"auto"==r?t.parseValue(n,null,{parseNumbers:!0,parseBooleans:!0,parseNulls:!0}):n},isObject:function(e){return e===Object(e)},isUndefined:function(e){return void 0===e},isValidArrayIndex:function(e){return/^[0-9]+$/.test(String(e))},isNumeric:function(e){return e-parseFloat(e)>=0},splitInputNameIntoKeysArray:function(n){var r,a,t,i,s;return s=e.serializeJSON,i=s.extractTypeFromInputName(n),a=i[0],t=i[1],r=a.split("["),r=e.map(r,function(e){return e.replace(/]/g,"")}),""===r[0]&&r.shift(),r.push(t),r},extractTypeFromInputName:function(n){var r,a;if(a=e.serializeJSON,r=n.match(/(.*):([^:]+)$/)){var t=["string","number","boolean","null","array","object","skip","auto"];if(-1!==t.indexOf(r[2]))return[r[1],r[2]];throw new Error("serializeJSON ERROR: Invalid type "+r[2]+" found in input name '"+n+"', please use one of "+t.join(", "))}return[n,"_"]},deepSet:function(n,r,a,t){var i,s,u,l,o,p;if(null==t&&(t={}),p=e.serializeJSON,p.isUndefined(n))throw new Error("ArgumentError: param 'o' expected to be an object or array, found undefined");if(!r||0===r.length)throw new Error("ArgumentError: param 'keys' expected to be an array with least one element");i=r[0],1===r.length?""===i?n.push(a):n[i]=a:(s=r[1],""===i&&(l=n.length-1,o=n[l],i=p.isObject(o)&&(p.isUndefined(o[s])||r.length>2)?l:l+1),""===s?(p.isUndefined(n[i])||!e.isArray(n[i]))&&(n[i]=[]):t.useIntKeysAsArrayIndex&&p.isValidArrayIndex(s)?(p.isUndefined(n[i])||!e.isArray(n[i]))&&(n[i]=[]):(p.isUndefined(n[i])||!p.isObject(n[i]))&&(n[i]={}),u=r.slice(1),p.deepSet(n[i],u,a,t))},readCheckboxUncheckedValues:function(n,r,a){var t,i,s,u,l;null==a&&(a={}),l=e.serializeJSON,t="input[type=checkbox][name]:not(:checked):not([disabled])",i=r.find(t).add(r.filter(t)),i.each(function(r,t){s=e(t),u=s.attr("data-unchecked-value"),u?n.push({name:t.name,value:u}):l.isUndefined(a.checkboxUncheckedValue)||n.push({name:t.name,value:a.checkboxUncheckedValue})})}}}(window.jQuery||window.Zepto||window.$);
